<section>
    <div class="container my-5">
        <h1>{{"auth-layout.register.title" | translate}}</h1>
        <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">

            <div class="row gy-2">

                <div class="col-md-12">
                    <label for="name" class="form-label">Name:</label>
                    <input [ngClass]="{
                        'is-invalid': registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.dirty),
                        'is-valid': !registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.dirty)
                    }" formControlName="name" type="text" class="form-control" id="name">
                    <app-alert-error [Form]="registerForm" FormControl="name"></app-alert-error>
                </div>

                <div class="col-md-12">
                    <label for="email" class="form-label">Email:</label>
                    <input [ngClass]="{
                        'is-invalid': registerForm.get('email')?.errors && (registerForm.get('email')?.touched || registerForm.get('email')?.dirty),
                        'is-valid': !registerForm.get('email')?.errors && (registerForm.get('email')?.touched || registerForm.get('email')?.dirty)
                    }" formControlName="email" type="email" class="form-control" id="email">
                    <app-alert-error [Form]="registerForm" FormControl="email"></app-alert-error>
                </div>

                <div class="col-md-12">
                    <label for="password" class="form-label">Password:</label>
                    <input [ngClass]="{
                        'is-invalid': registerForm.get('password')?.errors && (registerForm.get('password')?.touched || registerForm.get('password')?.dirty),
                        'is-valid': !registerForm.get('password')?.errors && (registerForm.get('password')?.touched || registerForm.get('password')?.dirty)
                    }" formControlName="password" type="password" class="form-control" id="password">
                    <app-alert-error [Form]="registerForm" FormControl="password"></app-alert-error>
                </div>

                <div class="col-md-12">
                    <label for="rePassword" class="form-label">rePassword:</label>
                    <input [ngClass]="{
                        'is-invalid': registerForm.hasError('mismatch') && registerForm.get('password')?.touched,
                        'is-valid': !registerForm.hasError('mismatch') && !registerForm.get('password')?.errors  && registerForm.get('password')?.touched
                    }" formControlName="rePassword" type="password" class="form-control" id="rePassword">
                    <app-alert-error [Form]="registerForm" FormControl="rePassword"></app-alert-error>
                </div>

            </div>

            @if(errorMsg && registermsgSuccess === false){
                <p class="alert alert-danger mt-3 m-0">{{errorMsg}}!</p>
            }

            @if(registermsgSuccess){
                <p class="alert alert-success mt-3 m-0">Register Is Successful!</p>
            }

            <div class="text-end">
                <button [disabled]="registerForm.invalid || isLoading" class="btn-main mt-3">{{"auth-layout.register.register-btn" | translate}}
                @if(isLoading){
                <div class="spinner-border spinner-border-sm" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                }
                </button>
            </div>

            

        </form>
    </div>
</section>